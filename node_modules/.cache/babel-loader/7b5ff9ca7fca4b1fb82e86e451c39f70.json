{"ast":null,"code":"import _assertThisInitialized from\"/Users/charles/Documents/GitHub/1/revolution-2019/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"/Users/charles/Documents/GitHub/1/revolution-2019/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/charles/Documents/GitHub/1/revolution-2019/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/charles/Documents/GitHub/1/revolution-2019/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/charles/Documents/GitHub/1/revolution-2019/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import $ from\"jquery\";import catalonia from\"../../media/prologue/News Catalonia.mp4\";import chile from\"../../media/prologue/News Chile.mp4\";import colombia from\"../../media/prologue/News Colombia.mp4\";import haiti from\"../../media/prologue/News Haiti.mp4\";import hongkong from\"../../media/prologue/News Hong Kong.mp4\";import iraq from\"../../media/prologue/News Iraq.mp4\";import lebanon from\"../../media/prologue/News Lebanon.mp4\";import sudan from\"../../media/prologue/News Sudan.mp4\";import usa from\"../../media/prologue/News USA.mp4\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var channels=[catalonia,chile,colombia,haiti,hongkong,iraq,lebanon,sudan,usa];var PlayButton=/*#__PURE__*/function(_React$Component){_inherits(PlayButton,_React$Component);var _super=_createSuper(PlayButton);function PlayButton(props){_classCallCheck(this,PlayButton);return _super.call(this,props);}_createClass(PlayButton,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"a\",{className:this.props.playing?\"display-none\":\"button play-button\",onClick:this.props.handleClick,children:this.props.firstTime?\"Play\":\"Replay\"});}}]);return PlayButton;}(React.Component);var Channel=/*#__PURE__*/function(_React$Component2){_inherits(Channel,_React$Component2);var _super2=_createSuper(Channel);function Channel(props){_classCallCheck(this,Channel);return _super2.call(this,props);}_createClass(Channel,[{key:\"render\",value:function render(){var _this=this;return/*#__PURE__*/_jsx(\"video\",{className:\"grid-video\".concat(this.props.isActive?\" active\":\"\"),onMouseEnter:function onMouseEnter(){return _this.props.handleMouseEnter(_this.props.index);},onMouseLeave:this.props.handleMouseLeave,onEnded:this.props.handleEnded,muted:this.props.isActive?false:\"muted\",children:/*#__PURE__*/_jsx(\"source\",{src:this.props.channel,type:\"video/mp4\"})});}}]);return Channel;}(React.Component);var Grid=/*#__PURE__*/function(_React$Component3){_inherits(Grid,_React$Component3);var _super3=_createSuper(Grid);function Grid(props){var _this2;_classCallCheck(this,Grid);_this2=_super3.call(this,props);_this2.state={activeIndex:null};_this2.renderChannel=_this2.renderChannel.bind(_assertThisInitialized(_this2));_this2.handleMouseEnter=_this2.handleMouseEnter.bind(_assertThisInitialized(_this2));_this2.handleMouseLeave=_this2.handleMouseLeave.bind(_assertThisInitialized(_this2));_this2.handleKeyPress=_this2.handleKeyPress.bind(_assertThisInitialized(_this2));return _this2;}_createClass(Grid,[{key:\"handleMouseEnter\",value:function handleMouseEnter(index){if(this.props.playing){this.setState({activeIndex:index});}}},{key:\"handleMouseLeave\",value:function handleMouseLeave(){this.setState({activeIndex:null});}},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"keydown\",this.handleKeyPress);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"keydown\",this.handleKeyPress);}},{key:\"handleKeyPress\",value:function handleKeyPress(e){switch(e.keyCode){case 37:if(![0,3,6].includes(this.state.activeIndex)){this.setState({activeIndex:this.state.activeIndex-1});}break;case 38:if(![0,1,2].includes(this.state.activeIndex)){this.setState({activeIndex:this.state.activeIndex-3});}break;case 39:if(![2,5,8].includes(this.state.activeIndex)){this.setState({activeIndex:this.state.activeIndex+1});}break;case 40:if(![6,7,8].includes(this.state.activeIndex)){this.setState({activeIndex:this.state.activeIndex+3});}break;default:return;}e.preventDefault();}},{key:\"renderChannel\",value:function renderChannel(i){return/*#__PURE__*/_jsx(Channel,{index:i,channel:channels[i],isActive:this.state.activeIndex==i,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,handleEnded:this.props.handleEnded});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid-header\",children:\"Move cursor or use keyboard arrows to change channels.\"}),this.renderChannel(0),this.renderChannel(1),this.renderChannel(2),this.renderChannel(3),this.renderChannel(4),this.renderChannel(5),this.renderChannel(6),this.renderChannel(7),this.renderChannel(8)]});}}]);return Grid;}(React.Component);var SceneOne=/*#__PURE__*/function(_React$Component4){_inherits(SceneOne,_React$Component4);var _super4=_createSuper(SceneOne);function SceneOne(props){var _this3;_classCallCheck(this,SceneOne);_this3=_super4.call(this,props);_this3.state={playing:false,firstTime:true};_this3.play=_this3.play.bind(_assertThisInitialized(_this3));_this3.handleEnded=_this3.handleEnded.bind(_assertThisInitialized(_this3));return _this3;}_createClass(SceneOne,[{key:\"play\",value:function play(){$(\"video\").each(function(i,vid){vid.play();});this.setState({playing:true});}},{key:\"handleEnded\",value:function handleEnded(){this.setState({playing:false,firstTime:false});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PlayButton,{handleClick:this.play,playing:this.state.playing,firstTime:this.state.firstTime}),/*#__PURE__*/_jsx(Grid,{playing:this.state.playing,handleEnded:this.handleEnded})]});}}]);return SceneOne;}(React.Component);export default SceneOne;","map":{"version":3,"sources":["/Users/charles/Documents/GitHub/1/revolution-2019/src/components/prologue/SceneOne.js"],"names":["React","$","catalonia","chile","colombia","haiti","hongkong","iraq","lebanon","sudan","usa","channels","PlayButton","props","playing","handleClick","firstTime","Component","Channel","concat","isActive","handleMouseEnter","index","handleMouseLeave","handleEnded","channel","Grid","state","activeIndex","renderChannel","bind","handleKeyPress","setState","document","addEventListener","removeEventListener","e","keyCode","includes","preventDefault","i","SceneOne","play","each","vid"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from \"jquery\";\nimport catalonia from \"../../media/prologue/News Catalonia.mp4\";\nimport chile from \"../../media/prologue/News Chile.mp4\";\nimport colombia from \"../../media/prologue/News Colombia.mp4\";\nimport haiti from \"../../media/prologue/News Haiti.mp4\";\nimport hongkong from \"../../media/prologue/News Hong Kong.mp4\";\nimport iraq from \"../../media/prologue/News Iraq.mp4\";\nimport lebanon from \"../../media/prologue/News Lebanon.mp4\";\nimport sudan from \"../../media/prologue/News Sudan.mp4\";\nimport usa from \"../../media/prologue/News USA.mp4\";\n\nconst channels = [catalonia, chile, colombia, haiti, hongkong, iraq, lebanon, sudan, usa];\n\nclass PlayButton extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <a className={this.props.playing ? \"display-none\" : \"button play-button\"} onClick={this.props.handleClick}>{this.props.firstTime ? \"Play\" : \"Replay\"}</a>\n    );\n  }\n}\n\nclass Channel extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <video\n      className={\"grid-video\".concat(this.props.isActive ? \" active\" : \"\")}\n      onMouseEnter={() => this.props.handleMouseEnter(this.props.index)}\n      onMouseLeave={this.props.handleMouseLeave}\n      onEnded={this.props.handleEnded}\n      muted={this.props.isActive ? false : \"muted\"}>\n        <source src={this.props.channel} type=\"video/mp4\"/>\n      </video>\n    );\n  }\n}\n\nclass Grid extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeIndex: null\n    }\n    this.renderChannel = this.renderChannel.bind(this);\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n  handleMouseEnter(index) {\n    if (this.props.playing) {\n      this.setState({\n        activeIndex: index\n      });\n    }\n  }\n  handleMouseLeave() {\n    this.setState({\n      activeIndex: null\n    });\n  }\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n  handleKeyPress(e) {\n    switch (e.keyCode) {\n      case 37:\n        if (![0, 3, 6].includes(this.state.activeIndex)) {\n          this.setState({\n            activeIndex: this.state.activeIndex - 1\n          });\n        }\n        break;\n      case 38:\n        if (![0, 1, 2].includes(this.state.activeIndex)) {\n          this.setState({\n          activeIndex: this.state.activeIndex - 3\n        });\n      }\n        break;\n      case 39:\n        if (![2, 5, 8].includes(this.state.activeIndex)) {\n          this.setState({\n          activeIndex: this.state.activeIndex + 1\n        });\n      }\n        break;\n      case 40:\n        if (![6, 7, 8].includes(this.state.activeIndex)) {\n          this.setState({\n          activeIndex: this.state.activeIndex + 3\n        });\n      }\n        break;\n      default:\n        return;\n          }\n          e.preventDefault();\n  }\n  renderChannel(i) {\n    return (\n      <Channel\n      index={i}\n      channel={channels[i]}\n      isActive={this.state.activeIndex == i}\n      handleMouseEnter={this.handleMouseEnter}\n      handleMouseLeave={this.handleMouseLeave}\n      handleEnded={this.props.handleEnded}/>\n    );\n  }\n  render() {\n    return (\n      <div className=\"grid\">\n        <div className=\"grid-header\">Move cursor or use keyboard arrows to change channels.</div>\n        {this.renderChannel(0)}\n        {this.renderChannel(1)}\n        {this.renderChannel(2)}\n        {this.renderChannel(3)}\n        {this.renderChannel(4)}\n        {this.renderChannel(5)}\n        {this.renderChannel(6)}\n        {this.renderChannel(7)}\n        {this.renderChannel(8)}\n      </div>\n\n    );\n  }\n}\n\nclass SceneOne extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playing: false,\n      firstTime: true\n    };\n    this.play = this.play.bind(this);\n    this.handleEnded = this.handleEnded.bind(this);\n  }\n  play() {\n    $(\"video\").each((i, vid) => {\n      vid.play();\n    });\n    this.setState({\n      playing: true\n    });\n  }\n  handleEnded() {\n    this.setState({\n      playing: false,\n      firstTime: false\n    });\n  }\n  render() {\n    return (\n      <div>\n        <PlayButton\n        handleClick={this.play}\n        playing={this.state.playing}\n        firstTime={this.state.firstTime}/>\n        <Grid\n        playing={this.state.playing}\n        handleEnded={this.handleEnded}/>\n      </div>\n    );\n  }\n}\n\nexport default SceneOne;\n"]},"metadata":{},"sourceType":"module"}